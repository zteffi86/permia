# Permía Backend Configuration
# Copy this file to .env and fill in your values

# ==========================================
# Database Configuration
# ==========================================
DATABASE_URL=postgresql://permia:permia_dev_password@localhost:5432/permia

# ==========================================
# Security & Authentication
# ==========================================
JWT_SECRET=your-secret-key-min-32-chars-change-in-production
JWT_ALGORITHM=HS256
AUTH_REQUIRED=false  # Set to true in production

# Export Signing Keys (RSA-4096)
EXPORT_PRIVATE_KEY_PATH=./keys/export_private_key.pem
EXPORT_PUBLIC_KEY_PATH=./keys/export_public_key.pem

# ==========================================
# Azure Storage
# ==========================================
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-account;AccountKey=your-key;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER_NAME=evidence

# ==========================================
# Application Settings
# ==========================================
ENVIRONMENT=development  # development, staging, production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
API_VERSION=v1
API_TITLE=Permía API
API_DESCRIPTION=Deterministic enforcement infrastructure for regulated industries

# ==========================================
# Feature Flags
# ==========================================
ENABLE_DOCS=true
ENABLE_REDOC=true
ENABLE_EXPORT_API=true

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ==========================================
# Logging & Monitoring
# ==========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Sentry (optional - leave empty to disable)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ==========================================
# Evidence Validation Policies
# ==========================================
MAX_TIME_DRIFT_SECONDS=30.0
MIN_GPS_ACCURACY_METERS=50.0
REPLAY_WINDOW_DAYS=30

# ==========================================
# Export Settings
# ==========================================
EXPORT_RETENTION_DAYS=90
EXPORT_STORAGE_PREFIX=exports/
